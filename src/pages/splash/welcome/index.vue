<template lang="pug">
  .page-wrap
    .jumbotron
      b-jumbotron(header='éº»ç“œå½±è¯„ ğŸ¥’', lead='FrontEnd build by Bootstrap 4 & Vue.js 2')
        p ä¹æœˆåŠ æ€¥åå•ï¼Œäº†è§£ä¸€ä¸‹ï¼Ÿ
        b-btn.mr-sm-2(variant='success') ç«‹åˆ»å®‰æ’
        b-btn(variant='outline-success') ç®—äº†
    .hero-wrap
      h3 çƒ­é—¨ç”µå½±
      template(v-for='group in groupedFilmTop')
        b-card-group.mb-4(deck, columns)
          template(v-for='item in group')
            film-item(:data='item')
</template>

<script>
import { mapGetters, mapActions } from 'vuex'

export default {
  created() {
    this.fetch()
  },
  computed: {
    ...mapGetters('splash', ['list']),
    groupedFilmTop() {
      return this.list.reduce(
        (x, item, index) => (
          index % 5 ? x[x.length - 1].push(item) : x.push([item]), x
        ),
        []
      )
    }
  },
  methods: {
    ...mapActions('splash', ['fetch'])
  }
}
</script>

<style lang="stylus" scoped>
.jumbotron
  text-align center
  padding 1.5em 1em .5em
</style>
